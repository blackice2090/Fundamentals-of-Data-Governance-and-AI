<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>انفوجرافيك: أساسيات حوكمة البيانات والذكاء الاصطناعي</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #f8fafc;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 380px;
            }
        }
        .flow-step {
            border-right: 4px solid #118AB2;
            padding-right: 1.5rem;
            position: relative;
        }
        .flow-step::before {
            content: '';
            position: absolute;
            right: -11px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #118AB2;
            border: 3px solid white;
        }
        .flow-step:last-child {
            border-right: none;
        }
        /* Print styles for PDF export */
        @page {
            size: A4 landscape;
            margin: 10mm;
        }
        @media print {
            html, body {
                width: 297mm;
                height: 210mm;
                background: #ffffff;
            }
            * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            .no-print {
                display: none !important;
            }
            .container {
                max-width: 100% !important;
                padding: 0 !important;
            }
            .shadow-md, .shadow-lg {
                box-shadow: none !important;
            }
            section, header, footer {
                break-inside: avoid;
                page-break-inside: avoid;
            }
            .chart-container {
                height: 120mm !important;
                max-height: none !important;
            }
        }
    </style>
</head>
<body class="bg-slate-50 text-gray-800">

    <div class="no-print fixed top-4 right-4 flex gap-2">
        <button class="bg-[#118AB2] text-white px-4 py-2 rounded shadow-md hover:bg-[#0e789a]" onclick="window.print()">طباعة PDF</button>
        <button id="exportCleanPdfBtn" class="bg-[#06D6A0] text-white px-4 py-2 rounded shadow-md hover:bg-[#05bd8d]">تصدير PDF (بدون رؤوس)</button>
    </div>

    <div id="exportArea" class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-6xl font-extrabold text-[#073B4C] mb-4">حوكمة البيانات والذكاء الاصطناعي</h1>
            <p class="text-lg md:text-xl text-[#118AB2] max-w-3xl mx-auto">دليل مرئي لفهم كيف تُشكل الحوكمة مستقبل الذكاء الاصطناعي بشكل آمن ومبتكر.</p>
            <div class="mt-3 text-sm md:text-base text-gray-600">
                <span class="font-bold">قدّمته:</span> م. هاجر اليزيدي
            </div>
            <div class="mt-1 text-xs md:text-sm text-gray-500">
            </div>
            <div class="mt-4">
                <span class="inline-flex items-center gap-2 bg-amber-100 text-amber-800 border border-amber-200 rounded-full px-3 py-1 mx-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                        <path d="M6 2.25a.75.75 0 01.75.75V4h10.5V3a.75.75 0 011.5 0v1h.75A2.25 2.25 0 0121.75 6.25v13.5A2.25 2.25 0 0119.5 22H4.5A2.25 2.25 0 012.25 19.75V6.25A2.25 2.25 0 014.5 4.75H5.25V3a.75.75 0 01.75-.75zM4.5 6.25a.75.75 0 00-.75.75V9h16.5V7a.75.75 0 00-.75-.75H4.5zM20.25 10.5H3.75v9.25c0 .414.336.75.75.75h15a.75.75 0 00.75-.75V10.5z"/>
                    </svg>
                    <span class="text-sm md:text-base font-semibold">اليوم الأول من المعسكر</span>
                </span>
            </div>
        </header>

        <main class="space-y-16">

            <section id="definition" class="text-center">
                <h2 class="text-3xl font-bold text-[#073B4C] mb-6">ما هي حوكمة البيانات؟ ولماذا هي حجر الأساس للذكاء الاصطناعي؟</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-[#FF6B6B]">
                        <h3 class="text-xl font-bold text-[#073B4C] mb-2">جودة البيانات</h3>
                        <p class="text-gray-600">تضمن توفير بيانات دقيقة ومتسقة، وهي الوقود الذي يحرك نماذج الذكاء الاصطناعي الفعالة.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-[#FFD166]">
                        <h3 class="text-xl font-bold text-[#073B4C] mb-2">الامتثال والتنظيم</h3>
                        <p class="text-gray-600">تساعد على الالتزام باللوائح القانونية والأخلاقية، مما يقلل المخاطر ويحمي المؤسسة.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-[#06D6A0]">
                        <h3 class="text-xl font-bold text-[#073B4C] mb-2">الأخلاقيات والمسؤولية</h3>
                        <p class="text-gray-600">تضع إطارًا لتطبيق ممارسات ذكاء اصطناعي عادلة ومسؤولة، وتجنب التحيز والتمييز.</p>
                    </div>
                </div>
            </section>
            
            <section id="innovation">
                <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                        <div>
                            <h2 class="text-3xl font-bold text-[#073B4C] mb-4">الحوكمة ليست عائقاً، بل مُسرِّع للابتكار</h2>
                            <p class="text-gray-700 mb-6">خلافًا للاعتقاد الشائع، فإن وجود إطار حوكمة قوي لا يقيد الإبداع، بل يوجهه. من خلال توفير بيئة آمنة وبيانات موثوقة، تُمكّن الحوكمة الفرق من التجربة والابتكار بثقة أكبر، مما يؤدي إلى نتائج أفضل وأكثر استدامة.</p>
                            <ul class="space-y-3 text-gray-600">
                                <li class="flex items-start"><span class="text-[#06D6A0] text-2xl mr-2 rtl:ml-2 rtl:mr-0">&#10003;</span><span>بيئة آمنة ومنظمة للتجريب.</span></li>
                                <li class="flex items-start"><span class="text-[#06D6A0] text-2xl mr-2 rtl:ml-2 rtl:mr-0">&#10003;</span><span>تقليل المخاطر القانونية والتشغيلية.</span></li>
                                <li class="flex items-start"><span class="text-[#06D6A0] text-2xl mr-2 rtl:ml-2 rtl:mr-0">&#10003;</span><span>زيادة الثقة لدى العملاء وأصحاب المصلحة.</span></li>
                                <li class="flex items-start"><span class="text-[#06D6A0] text-2xl mr-2 rtl:ml-2 rtl:mr-0">&#10003;</span><span>وصول أسرع لبيانات عالية الجودة.</span></li>
                            </ul>
                        </div>
                        <div class="chart-container">
                            <canvas id="innovationChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <section id="pillars">
                <h2 class="text-3xl font-bold text-center text-[#073B4C] mb-10">الأعمدة الأربعة لحوكمة الذكاء الاصطناعي</h2>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div class="flow-step">
                        <h3 class="text-xl font-bold text-[#073B4C] mb-2">1. إدارة وجودة البيانات</h3>
                        <p class="text-gray-600">الأساس الصلب. ضمان دقة البيانات واكتمالها وتتبع مصدرها لتدريب نماذج موثوقة.</p>
                    </div>
                    <div class="flow-step">
                        <h3 class="text-xl font-bold text-[#073B4C] mb-2">2. حوكمة دورة حياة النموذج</h3>
                        <p class="text-gray-600">التكامل الشامل. دمج الضوابط في كل مرحلة، من جمع البيانات إلى النشر والمراقبة.</p>
                    </div>
                    <div class="flow-step">
                        <h3 class="text-xl font-bold text-[#073B4C] mb-2">3. الحوكمة المستمرة</h3>
                        <p class="text-gray-600">التكيف الدائم. مراقبة النماذج في الوقت الفعلي لضمان تكيفها مع التغيرات في البيانات واللوائح.</p>
                    </div>
                    <div class="flow-step">
                        <h3 class="text-xl font-bold text-[#073B4C] mb-2">4. الحوكمة المعتمدة على AI</h3>
                        <p class="text-gray-600">التحسين الذاتي. استخدام الذكاء الاصطناعي لأتمتة عمليات الحوكمة مثل اكتشاف التحيز ومراقبة الجودة.</p>
                    </div>
                </div>
            </section>

            <section id="challenges-ethics">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                        <h2 class="text-2xl font-bold text-center text-[#073B4C] mb-4">أبرز التحديات في التطبيق</h2>
                        <p class="text-center text-gray-600 mb-6">تواجه المؤسسات عقبات متعددة عند تطبيق حوكمة الذكاء الاصطناعي. فهم هذه التحديات هو الخطوة الأولى نحو التغلب عليها.</p>
                        <div class="chart-container h-80 md:h-96">
                            <canvas id="challengesChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                        <h2 class="text-2xl font-bold text-center text-[#073B4C] mb-4">الأبعاد الأخلاقية الأساسية</h2>
                        <p class="text-center text-gray-600 mb-6">تعتبر الأخلاقيات بوصلة توجيه الذكاء الاصطناعي لخدمة البشرية، وهذه هي أهم مبادئها.</p>
                        <div class="chart-container h-80 md:h-96">
                            <canvas id="ethicsChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <section id="examples">
                <h2 class="text-3xl font-bold text-center text-[#073B4C] mb-10">قيادة الطريق: أمثلة عالمية ومحلية</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow-md text-center">
                        <h3 class="text-xl font-bold text-[#073B4C]">Google AI Principles</h3>
                        <p class="text-gray-600 mt-2">مجموعة من المبادئ التوجيهية لضمان تطوير الذكاء الاصطناعي بشكل مسؤول اجتماعياً وأخلاقياً.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md text-center">
                        <h3 class="text-xl font-bold text-[#073B4C]">Microsoft Responsible AI</h3>
                        <p class="text-gray-600 mt-2">إطار عمل شامل يركز على بناء أنظمة ذكاء اصطناعي آمنة وعادلة وموثوقة وشفافة.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg text-center md:col-span-2 lg:col-span-1 border-b-8 border-[#06D6A0]">
                        <h3 class="text-xl font-bold text-[#073B4C]">الهيئة السعودية للبيانات والذكاء الاصطناعي (SDAIA)</h3>
                        <p class="text-gray-600 mt-2">تقود الاستراتيجية الوطنية في المملكة وأصدرت الإطار الوطني لحوكمة الذكاء الاصطناعي، بما يتماشى مع أهداف رؤية 2030 الطموحة.</p>
                    </div>
                </div>
            </section>
            
        </main>

        <footer class="text-center mt-16 pt-8 border-t border-gray-200">
            <p class="text-gray-500">ملخص مرئي تم إنشاؤه لليوم الأول من معسكر أساسيات حوكمة البيانات والذكاء الاصطناعي. &copy;2025</p>
        </footer>

    </div>

    <script>
        const tooltipTitleCallback = {
            plugins: {
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) {
                                return label.join(' ');
                            } else {
                                return label;
                            }
                        }
                    }
                }
            }
        };

        const chartColors = {
            red: '#FF6B6B',
            yellow: '#FFD166',
            green: '#06D6A0',
            blue: '#118AB2',
            darkBlue: '#073B4C'
        };

        const innovationCtx = document.getElementById('innovationChart').getContext('2d');
        new Chart(innovationCtx, {
            type: 'doughnut',
            data: {
                labels: ['تقليل المخاطر', 'زيادة الثقة', 'بيانات عالية الجودة', 'بيئة آمنة للتجربة'],
                datasets: [{
                    label: 'أثر الحوكمة على الابتكار',
                    data: [35, 30, 20, 15],
                    backgroundColor: [chartColors.blue, chartColors.green, chartColors.yellow, chartColors.red],
                    borderColor: '#ffffff',
                    borderWidth: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: tooltipTitleCallback.plugins
            }
        });

        const wrapLabel = (label) => {
            const maxLength = 16;
            if (label.length <= maxLength) return label;
            
            const words = label.split(' ');
            let lines = [];
            let currentLine = '';
            
            words.forEach(word => {
                if ((currentLine + word).length > maxLength) {
                    lines.push(currentLine.trim());
                    currentLine = '';
                }
                currentLine += word + ' ';
            });
            lines.push(currentLine.trim());
            return lines;
        };

        // Use wrapLabel to allow multi-line Arabic labels so they don't get truncated
        const challengesRawLabels = ['التحيز في البيانات', 'صعوبة شرح النماذج', 'التطور السريع للتكنولوجيا', 'تنوع اللوائح والقوانين'];
        const challengesLabels = challengesRawLabels.map(wrapLabel);
        const challengesCtx = document.getElementById('challengesChart').getContext('2d');
        new Chart(challengesCtx, {
            type: 'bar',
            data: {
                labels: challengesLabels,
                datasets: [{
                    label: 'مستوى التحدي',
                    data: [85, 75, 60, 50],
                    backgroundColor: [chartColors.red, chartColors.yellow, chartColors.blue, chartColors.green],
                    borderRadius: 5,
                    barPercentage: 0.6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: {
                    x: {
                        beginAtZero: true,
                        grid: { display: false },
                        ticks: { display: false }
                    },
                    y: {
                        grid: { display: false },
                        position: 'left',
                        ticks: {
                            font: { size: 14, family: 'Tajawal' },
                            padding: 8
                        },
                        // Ensure enough width for multi-line Arabic labels
                        afterFit: (scale) => { scale.width = Math.max(scale.width, 140); }
                    }
                },
                plugins: {
                    ...tooltipTitleCallback.plugins,
                    legend: { display: false }
                }
            }
        });

        const ethicsCtx = document.getElementById('ethicsChart').getContext('2d');
        new Chart(ethicsCtx, {
            type: 'radar',
            data: {
                labels: ['الشفافية', 'القابلية للشرح', 'العدالة', 'المساءلة', 'الخصوصية'],
                datasets: [{
                    label: 'الأهمية الأخلاقية',
                    data: [9, 8, 9, 7, 10],
                    backgroundColor: 'rgba(6, 214, 160, 0.2)',
                    borderColor: chartColors.green,
                    pointBackgroundColor: chartColors.green,
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: chartColors.green
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: { color: 'rgba(0, 0, 0, 0.1)' },
                        grid: { color: 'rgba(0, 0, 0, 0.1)' },
                        pointLabels: { font: { size: 14, family: 'Tajawal' } },
                        ticks: {
                            backdropColor: 'rgba(255, 255, 255, 0.75)',
                            stepSize: 2
                        }
                    }
                },
                plugins: tooltipTitleCallback.plugins
            }
        });

        // Export clean PDF without browser headers/footers using html2pdf.js
        const exportButton = document.getElementById('exportCleanPdfBtn');
        if (exportButton) {
            exportButton.addEventListener('click', async () => {
                const element = document.getElementById('exportArea');
                if (!element) return;

                // Wait for web fonts (e.g., Tajawal) to ensure text renders in PDF
                try { if (document.fonts && document.fonts.ready) { await document.fonts.ready; } } catch(_) {}

                // Temporarily upscale canvases (charts) for sharper export
                const upscaleFactor = 3;
                const canvases = Array.from(element.querySelectorAll('canvas'));
                const savedSizes = [];
                canvases.forEach((cv) => {
                    const rect = { w: cv.width, h: cv.height, sw: cv.style.width, sh: cv.style.height };
                    savedSizes.push([cv, rect]);
                    const displayWidth = cv.clientWidth;
                    const displayHeight = cv.clientHeight;
                    if (displayWidth && displayHeight) {
                        cv.style.width = displayWidth + 'px';
                        cv.style.height = displayHeight + 'px';
                        cv.width = displayWidth * upscaleFactor;
                        cv.height = displayHeight * upscaleFactor;
                        const chart = window.Chart ? Chart.getChart(cv) : null;
                        if (chart && chart.resize) { chart.resize(); chart.update('none'); }
                    }
                });

                const opt = {
                    margin:       [10, 10, 10, 10], // mm
                    filename:     'infographic.pdf',
                    image:        { type: 'jpeg', quality: 0.99 },
                    html2canvas:  { scale: upscaleFactor, useCORS: true, backgroundColor: '#FFFFFF', letterRendering: true },
                    jsPDF:        { unit: 'mm', format: 'a4', orientation: 'landscape' },
                    pagebreak:    { mode: ['avoid-all', 'css', 'legacy'] }
                };

                try {
                    await html2pdf().set(opt).from(element).save();
                } finally {
                    // Restore canvas sizes after export
                    savedSizes.forEach(([cv, rect]) => {
                        cv.width = rect.w; cv.height = rect.h; cv.style.width = rect.sw; cv.style.height = rect.sh;
                        const chart = window.Chart ? Chart.getChart(cv) : null;
                        if (chart && chart.resize) { chart.resize(); chart.update('none'); }
                    });
                }
            });
        }
    </script>
</body>
</html>